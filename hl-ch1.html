<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stochastic Processes & Finance ‚Äì Summer Reading Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Lato', sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
    }
    header {
      background-color: #003366;
      color: white;
      padding: 1em;
      text-align: center;
    }
    nav {
      background-color: #e0e0e0;
      padding: 1em;
      text-align: center;
    }
    nav a {
      margin: 0 1em;
      text-decoration: none;
      color: #003366;
      font-weight: bold;
    }
    section {
      max-width: 1200px;
      margin: 2em auto;
      padding: 1em;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .nav-bottom a {
      flex: 1;
      text-align: center;
      padding: 0.5em 1em;
      color: #003366;
      font-weight: bold;
      text-decoration: none;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      color: #777;
      margin: 2em 0;
    }
    .hint-text {
      display: none;
      margin-top: 0.5em;
      background: #f0f0f0;
      padding: 0.5em;
      border-left: 4px solid #0077cc;
      border-radius: 4px;
    }

    .hint-button {
      margin-top: 1em;
      background-color: #0077cc;
      color: white;
      border: none;
      padding: 0.4em 0.8em;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
    }

    .hint-button:hover {
      background-color: #005fa3;
    }
  </style>
</head>
<body>

<header>
  <h1>Chapter 1: Preferences Representation and Risk Aversion</h1>
  <p>Study notes and chapter summaries</p>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="topics.html">Topics</a>
  <a href="notes.html">Notes</a>
  <a href="projects.html">Programming</a>
</nav>
<section>
  <h2>Expected Utility and Individual Decisions</h2>
  <p>
    This chapter introduces the central theme of the book: how individuals make consumption and investment decisions under uncertainty, and how these decisions influence the valuation of financial assets.
  </p>
  <p>
    A widely accepted framework for modeling asset choice under uncertainty is the <strong>expected utility hypothesis</strong>. Under this hypothesis, each individual:
  </p>
  <ul>
    <li>Forms subjective probabilities of future asset payoffs</li>
    <li>Assigns a utility value to each possible consumption outcome</li>
    <li>Chooses a consumption-investment policy to maximize expected utility</li>
  </ul>
  <p>
    Mathematically, preferences are represented by a utility function \( u(\cdot) \), and a random consumption outcome \( x \) is preferred to another outcome \( y \) if and only if:
  </p>
  <p>
    \[
      \mathbb{E}[u(x)] \geq \mathbb{E}[u(y)]
    \]
  </p>
  <p>
    where the expectation \( \mathbb{E} \) is taken with respect to the individual's subjective probability distribution over outcomes.
  </p>

  <h2>Consumption Plans and Expected Utility Representation</h2>
  <p>
    Consider a two-period model: time 0 (decision point) and time 1 (consumption). Uncertainty is captured through a finite set of states of nature, denoted by \( \Omega \), with \( \omega \in \Omega \) representing an individual state.
  </p>
  <p>
    A <strong>consumption plan</strong> \( z \) specifies the number of units of a single good available in each state at time 1. This plan can be viewed as a vector or a random variable, with \( z(\omega) \) representing consumption in state \( \omega \).
  </p>
  <p>
    Preferences over such plans are represented by a <em>preference relation</em> that allows the comparison of different consumption vectors. If preferences can be captured by a utility function \( H \), then:
  </p>
  <p>
    \[
      z \succeq z' \iff H(z) \geq H(z')
    \]
  </p>
  <p>
    To simplify analysis in high-dimensional state spaces, we use an <strong>expected utility representation</strong>:
  </p>
  <p>
    \[
      z \succeq z' \iff \mathbb{E}[u(z)] \geq \mathbb{E}[u(z')]
    \]
  </p>
  <p>
    where \( u \) is defined on deterministic (sure) outcomes and extended to random plans via integration under a probability measure \( P \). For certain plans \( z = x \), \( u(z) = u(x) \).
  </p>
  <p>
    This framework leads to the <strong>von Neumann‚ÄìMorgenstern utility function</strong>, developed under objective probability assumptions, and extended by Savage under subjective beliefs. In this book, the distinction is not emphasized‚Äîboth are treated as defining \( u \) over certain outcomes.
  </p>

  <h2>Preference Relations: Definitions and Properties</h2>
  <p>
    Let \( X \) denote the set of all possible consumption plans. A <strong>binary relation</strong> on \( X \) is a collection of ordered pairs \( (z, y) \) where plan \( z \) is compared to plan \( y \). If \( z \) is preferred to \( y \), we write \( z \succeq y \); otherwise, we write \( z \not\succeq y \).
  </p>
  <p>
    A binary relation is:
  </p>
  <ul>
    <li><strong>Transitive</strong> if \( z \succeq y \) and \( y \succeq v \) implies \( z \succeq v \).</li>
    <li><strong>Complete</strong> if for any \( z, y \in X \), either \( z \succeq y \), \( y \succeq z \), or both.</li>
  </ul>
  <p>
    A <strong>preference relation</strong> is a binary relation that is both transitive and complete.
  </p>
  <p>
    Based on a preference relation \( \succeq \), we can define:
  </p>
  <ul>
    <li><strong>Indifference</strong>: \( z \sim y \) if \( z \succeq y \) and \( y \succeq z \)</li>
    <li><strong>Strict preference</strong>: \( z \succ y \) if \( z \succeq y \) but not \( y \succeq z \)</li>
  </ul>
  <p>
    These derived relations help classify how individuals compare consumption plans under uncertainty.
  </p>
  
  <h2>Utility Representation for Finite Preferences</h2>
  <p>
    When the set \( X \) of consumption plans is finite, any preference relation \( \succeq \) can be represented by a utility function \( U \), such that
    \[
    z_n \succeq z_m \quad \text{if and only if} \quad U(z_n) \geq U(z_m).
    \]
  </p>
  <p>
    The construction of such a utility function is illustrated through an example. Let \( z_1, z_2, z_3 \in X \). Start by assigning a base value to one plan, say:
    \[
    H(z_3) = b.
    \]
  </p>
  <p>
    Then compare \( z_2 \) and \( z_1 \) with \( z_3 \), and define \( H(z_2) \) and \( H(z_1) \) accordingly:
  </p>
  <ul>
    <li>If \( z_2 \succ z_3 \), assign \( H(z_2) = b + 1 \)</li>
    <li>If \( z_2 \sim z_3 \), assign \( H(z_2) = b \)</li>
    <li>If \( z_2 \prec z_3 \), assign \( H(z_2) = b - 1 \)</li>
  </ul>
  <p>
    Similarly, assign values to \( H(z_1) \) based on its comparison with the others. This procedure ensures that:
    \[
    H(z_n) \geq H(z_m) \quad \text{if and only if} \quad z_n \succeq z_m.
    \]
  </p>
  <p>
    The example shows how a numerical index can capture preference rankings. This construction can be extended to any countable set \( X \), ensuring utility representation for complete and transitive preferences.
  </p>

  <h2>Expected Utility Representation</h2>
  <p>
    For an uncountably infinite set of consumption plans, preference relations are more nuanced. Some, such as the <em>lexicographic preference relation</em>, cannot be represented by any utility function.
  </p>
  <p>
    To represent preferences under uncertainty, we use the <strong>expected utility framework</strong>. Let \( \Omega \) denote the state space with probability \( P \), which can be either objective or subjective. A <em>consumption plan</em> \( z \) is modeled as a random variable defined on \( \Omega \).
  </p>
  <p>
    The distribution function \( F \) of a consumption plan \( z \) is:
    \[
    F(x) = P(\omega \in \Omega : z(\omega) \leq x).
    \]
    Given a utility function \( u \), the expected utility of plan \( z \) is:
    \[
    \mathbb{E}[u(z)] = \int u(x) \, dF(x).
    \]
  </p>
  <p>
    If two consumption plans \( z \) and \( z' \) have the same distribution function \( F \), then they yield the same expected utility:
    \[
    \mathbb{E}[u(z)] = \mathbb{E}[u(z')].
    \]
    Thus, individuals are indifferent between them. This indicates that preferences in this framework are expressed over <em>distributions</em> of consumption, not specific realizations across states.
  </p>

  <h2>Preferences on Finite Distributions</h2>
  <p>
    To simplify the analysis, we assume that an individual's preferences are expressed only on <strong>finite probability distributions</strong> over a finite set \( Z \). That is, any consumption plan \( z \) must take values in a finite set \( Z \subset \mathbb{R} \). For instance, if \( Z = \{1, 2, 3\} \), consumption in any state is limited to these discrete units.
  </p>
  <p>
    This assumption is practical when goods are <em>not perfectly divisible</em> or supply is limited. A consumption plan can be represented by a probability mass function \( p \) on \( Z \), where:
    \[
    p(z) \geq 0 \quad \text{for all } z \in Z, \quad \text{and} \quad \sum_{z \in Z} p(z) = 1.
    \]
  </p>
  <p>
    The expected utility of such a plan becomes:
    \[
    \mathbb{E}[u(z)] = \sum_{z \in Z} u(z) \cdot p(z).
    \]
  </p>
  <p>
    This framework is equivalent to viewing a consumption plan as a <em>lottery</em> over the elements of \( Z \), where \( p(z) \) is the probability of receiving prize \( z \). The set of all such probability measures is denoted by \( \mathcal{P} \), with elements like \( p, q, r \in \mathcal{P} \).
  </p>
  
  <h2>Axioms for Expected Utility Representation</h2>
  <p>
    A binary relation \( \succeq \) on the set of probability distributions \( \mathcal{P} \) has an <strong>expected utility representation</strong> if and only if it satisfies the following three behavioral axioms:
  </p>

  <p><strong>Axiom 1 (Preference Relation):</strong><br>
    \( \succeq \) is a preference relation on \( \mathcal{P} \), i.e., it is transitive and complete.
  </p>

  <p><strong>Axiom 2 (Independence or Substitution):</strong><br>
    For all \( p, q, r \in \mathcal{P} \) and \( \alpha \in (0,1] \),
    \[
    p \succ q \Rightarrow \alpha p + (1 - \alpha)r \succ \alpha q + (1 - \alpha)r.
    \]
    This captures the idea that preferences between lotteries depend only on their differing components. If a decision-maker prefers \( p \) over \( q \), they should also prefer a lottery mixing \( p \) with \( r \) over the same mixture with \( q \).
  </p>

  <p><strong>Axiom 3 (Archimedean Axiom):</strong><br>
    For all \( p, q, r \in \mathcal{P} \) such that \( p \succ q \succ r \), there exist \( \alpha, \beta \in (0,1) \) such that:
    \[
    \alpha p + (1 - \alpha)r \succ q \succ \beta p + (1 - \beta)r.
    \]
    This ensures that extreme preferences do not dominate the decision framework infinitely. Intuitively, no consumption plan is so good or bad that it can‚Äôt be "averaged" into or out of favor by probabilistic mixing.
  </p>

  <p>
    When \( p, q, r \) are sure outcomes (e.g., \( p(z) = 1 \), etc.), this axiom implies that mixtures of more or less preferred outcomes can be ordered around a certain middle-ground certainty, reinforcing the consistency of probabilistic preferences.
  </p>

  <h2>Properties of Preference Relations Under the Three Axioms</h2>

  <p>
    If a binary relation \( \succeq \) on the set of probability distributions \( \mathcal{P} \) satisfies the three axioms (Preference, Independence, and Archimedean), then several intuitive properties follow. Let \( P_x \) denote the degenerate distribution at \( x \in Z \), i.e.,
    \[
    P_x(x') =
    \begin{cases}
      1 & \text{if } x' = x, \\
      0 & \text{otherwise}.
    \end{cases}
    \]
    This represents a sure consumption plan with \( x \) units in every state.
  </p>

  <ul>
    <li>
      <strong>Monotonicity of Mixing:</strong><br>
      If \( p \succ q \) and \( 0 \leq a < b \leq 1 \), then
      \[
      bp + (1 - b)q \succ ap + (1 - a)q.
      \]
    </li>

    <li>
      <strong>Existence of Unique Indifference Point:</strong><br>
      If \( p \succeq q \succeq r \), then there exists a unique \( \alpha^* \in [0,1] \) such that
      \[
      q \sim \alpha^* p + (1 - \alpha^*) r.
      \]
    </li>

    <li>
      <strong>Mixing with Intermediate Preferences:</strong><br>
      If \( p \succ q \succ r \) and \( \alpha \in [0,1] \), then
      \[
      \alpha q + (1 - \alpha) r \prec \alpha p + (1 - \alpha) r.
      \]
    </li>

    <li>
      <strong>Mixing with Indifference:</strong><br>
      If \( p \sim q \) and \( \alpha \in [0,1] \), then
      \[
      p \sim \alpha p + (1 - \alpha) q.
      \]
    </li>

    <li>
      <strong>Preservation of Indifference Under Mixing:</strong><br>
      If \( p \sim q \), then for all \( r \in \mathcal{P} \) and \( \alpha \in [0,1] \),
      \[
      \alpha p + (1 - \alpha) r \sim \alpha q + (1 - \alpha) r.
      \]
    </li>

    <li>
      <strong>Existence of Bounds:</strong><br>
      There exist \( x_{\min}, x_{\max} \in Z \) such that for all \( p \in \mathcal{P} \),
      \[
      P_{x_{\max}} \succeq p \succeq P_{x_{\min}}.
      \]
      That is, the best and worst sure consumption plans serve as upper and lower bounds, respectively, under the preference relation.
    </li>
  </ul>

  <p>
    These properties follow naturally when preferences are well-behaved in the sense of the expected utility framework. Readers are encouraged to prove these as Exercise 1.3.
  </p>

  <h2>Proof of Expected Utility Representation</h2>

  <p>
    We now prove that a binary relation \( \succeq \) on the set of probability distributions \( \mathcal{P} \) has an expected utility representation if and only if it satisfies the three axioms discussed earlier.
  </p>

  <h3>Case 1: Indifference Between All Distributions</h3>
  <p>
    If \( p \sim q \) for all \( p, q \in \mathcal{P} \), then a constant utility function \( u(z) = k \) for all \( z \in Z \) represents the preference relation. This is trivial, as all lotteries are treated equally.
  </p>

  <h3>Case 2: Nontrivial Preferences</h3>
  <p>
    Suppose \( \succeq \) is not trivial. Let \( x^* \in Z \) be the best outcome and \( x_* \in Z \) the worst, such that for all \( p \in \mathcal{P} \), \( P_{x^*} \succeq p \succeq P_{x_*} \). For any \( p \in \mathcal{P} \), define a number \( H(p) \in (0,1) \) such that:
    \[
    p \sim H(p) P_{x^*} + (1 - H(p)) P_{x_*}.
    \]
    This \( H(p) \) is uniquely defined by Property 2 from the previous section (existence and uniqueness of indifference point). Hence, the function \( H: \mathcal{P} \rightarrow [0,1] \) is well-defined and represents the preference relation: \( H(p) \geq H(q) \iff p \succeq q \).
  </p>

  <p>
    However, we want to express \( H(p) \) as an expected value over a function \( u \) defined on \( Z \), i.e., a von Neumann-Morgenstern utility function. To do this, we construct \( u \) directly. From repeated use of the linearity property (Property 5), we know:
    \[
    H(ap + (1 - a)q) = a H(p) + (1 - a) H(q), \quad \forall a \in [0,1].
    \]
    Thus, \( H \) is a linear function over \( \mathcal{P} \).
  </p>

  <p>
    Now define \( u: Z \rightarrow \mathbb{R} \) by
    \[
    u(z) = H(P_z), \quad \text{for all } z \in Z.
    \]
    This assigns utility to sure outcomes as the value of \( H \) on the degenerate lottery \( P_z \).
  </p>

  <p>
    Let \( p \in \mathcal{P} \) be an arbitrary probability distribution. Note that \( p \sim \sum_{z \in Z} p(z) P_z \), i.e., the lottery \( p \) is equivalent to a compound lottery over sure outcomes. Using linearity of \( H \), we get:
    \[
    H(p) = H\left(\sum_{z \in Z} p(z) P_z\right) = \sum_{z \in Z} p(z) H(P_z) = \sum_{z \in Z} p(z) u(z).
    \]
    Thus, the utility function \( u \) satisfies:
    \[
    p \succeq q \iff \sum_{z \in Z} u(z) p(z) \geq \sum_{z \in Z} u(z) q(z),
    \]
    proving that \( u \) is a von Neumann-Morgenstern utility function.
  </p>

  <p>
    Finally, this function \( u \) is unique up to a strictly positive linear transformation. That is, if \( \tilde{u} \) also represents the same preferences, then there exist constants \( c > 0 \) and \( d \in \mathbb{R} \) such that:
    \[
    \tilde{u}(z) = c u(z) + d, \quad \text{for all } z \in Z.
    \]
  </p>

  <p>
    Conversely, if a preference relation can be represented as:
    \[
    p \succeq q \iff \sum_{z \in Z} u(z) p(z) \geq \sum_{z \in Z} u(z) q(z),
    \]
    then it satisfies the three axioms (Preference, Independence, and Archimedean), completing the proof.
  </p>

  <h2> An Interesting way to vizualize this</h2>
  <h4>üéØ The Scenario: Preferences Over Snacks</h4>
  <p>Imagine you‚Äôre hungry and someone offers you a lottery (a random draw) where you might get a snack. There are 3 possible snacks:</p>
  <ul>
    <li>üç´ Chocolate (\( Z = 1 \))</li>
    <li>üç© Donut (\( Z = 2 \))</li>
    <li>ü•¶ Broccoli (\( Z = 3 \))</li>
  </ul>
  <p>These are your possible consumption outcomes ‚Äî your <strong>consumption plan</strong> assigns probabilities to each of them.</p>

  <h4>üîë 1. Preference Relation: What You Like More</h4>
  <p>You can compare two lotteries (consumption plans) and say which one you prefer.</p>
  <p>Example:</p>
  <ul>
    <li><strong>Lottery A:</strong> Gives üç´ with 100% certainty ‚Üí \( p_1 = (1, 0, 0) \)</li>
    <li><strong>Lottery B:</strong> Gives üç© with 50% and ü•¶ with 50% ‚Üí \( p_2 = (0, 0.5, 0.5) \)</li>
  </ul>
  <p>You might say: ‚ÄúI prefer üç´ for sure over a 50-50 chance at üç© or ü•¶.‚Äù<br>
  Then your preference relation is: \( p_1 \succ p_2 \).</p>
  <p>This is a <strong>preference rule</strong> ‚Äî it tells us how you compare different probability distributions over outcomes.</p>

  <h4>üßÆ 2. Expected Utility Representation: Assigning Numbers to Preferences</h4>
  <p>Now, suppose we try to numerically represent your preferences using a utility function \( u(z) \).</p>
  <p>Let‚Äôs say you assign utility values to snacks as follows:</p>
  <ul>
    <li>\( u(\text{üç´}) = 10 \)</li>
    <li>\( u(\text{üç©}) = 6 \)</li>
    <li>\( u(\text{ü•¶}) = 1 \)</li>
  </ul>

  <p>We can now calculate the expected utility (EU) for each lottery:</p>
  <p><strong>Lottery A:</strong></p>
  \[
  EU = 1 \cdot u(\text{üç´}) + 0 \cdot u(\text{üç©}) + 0 \cdot u(\text{ü•¶}) = 10
  \]

  <p><strong>Lottery B:</strong></p>
  \[
  EU = 0 \cdot 10 + 0.5 \cdot 6 + 0.5 \cdot 1 = 3.5
  \]

  <p>Since \( 10 > 3.5 \), you prefer Lottery A. This shows your preferences can be captured using a utility function \( u \), and choices can be explained via <strong>expected utility</strong>.</p>

  <h4>üé≤ 3. Consumption Plan: What You Might Get and How Likely</h4>
  <p>Each lottery or random draw is a <strong>consumption plan</strong> ‚Äî a probability distribution over possible outcomes.</p>
  <p>Examples:</p>
  <ul>
    <li>A sure üç´ ‚Üí \( (1, 0, 0) \)</li>
    <li>60% üç´, 30% üç©, 10% ü•¶ ‚Üí \( (0.6, 0.3, 0.1) \)</li>
    <li>Equal chances ‚Üí \( \left( \frac{1}{3}, \frac{1}{3}, \frac{1}{3} \right) \)</li>
  </ul>
  <p>Think of it like a spinning wheel. The size of each sector is the probability, and the label is the outcome you‚Äôll land on.</p>

  <h4>üß† Why This Matters</h4>
  <p>Economics wants to understand how people make choices under uncertainty:</p>
  <ul>
    <li><strong>Preference relations</strong> describe what you like.</li>
    <li><strong>Expected utility</strong> represents those preferences mathematically.</li>
    <li><strong>Consumption plans</strong> describe what you might get and how likely each outcome is.</li>
  </ul>
  <p>These ideas help economists design better policies, businesses make better products, and even AI systems make smarter decisions under uncertainty.</p>

  <h2>Real Life Application</h2>
  <h4>üéØ Scenario: Choosing an Investment Portfolio</h4>
  <p><strong>You are an investor</strong> with ‚Çπ10,000 to invest. You're offered two investment options, each with different levels of risk and return.</p>

  <h4>üîµ Option A: Safe Fixed Deposit (FD)</h4>
  <p>This option guarantees a return of ‚Çπ10,800 after 1 year ‚Äî an 8% return with no risk.</p>
  <p>The outcome is certain, represented by the consumption plan:</p>
  \[
  p_A = (1, 0)
  \]
  <p>Here:</p>
  <ul>
    <li>Outcome 1: ‚Çπ10,800</li>
    <li>Outcome 2: ‚Çπ6,000</li>
  </ul>

  <h4>üî¥ Option B: Risky Stock Investment</h4>
  <p>This option offers a 50% chance of high gain or loss:</p>
  <ul>
    <li>50% chance to get ‚Çπ12,000</li>
    <li>50% chance to get ‚Çπ6,000</li>
  </ul>
  <p>The corresponding consumption plan is:</p>
  \[
  p_B = (0.5, 0.5)
  \]

  <h4>üß† Your Preferences: Utility Function</h4>
  <p>You're risk-averse ‚Äî meaning the pain of losing money is stronger than the joy of gaining the same amount. So, instead of valuing money directly, you assign <strong>utility values</strong> to the outcomes based on satisfaction:</p>
  <ul>
    <li>\( u(\text{‚Çπ6,000}) = 30 \)</li>
    <li>\( u(\text{‚Çπ10,800}) = 60 \)</li>
    <li>\( u(\text{‚Çπ12,000}) = 70 \)</li>
  </ul>

  <h4>üßÆ Expected Utility Calculation</h4>
  <p><strong>Option A (FD):</strong></p>
  \[
  EU_A = 1 \cdot u(‚Çπ10{,}800) = 1 \cdot 60 = 60
  \]

  <p><strong>Option B (Stock):</strong></p>
  \[
  EU_B = 0.5 \cdot u(‚Çπ12{,}000) + 0.5 \cdot u(‚Çπ6{,}000) = 0.5 \cdot 70 + 0.5 \cdot 30 = 35 + 15 = 50
  \]

  <h4>üßæ Final Decision</h4>
  <p>Even though the <em>average monetary return</em> of Option B is ‚Çπ9,000 (compared to ‚Çπ10,800 in Option A), you choose <strong>Option A</strong> because:</p>
  <ul>
    <li>It provides higher <strong>expected utility</strong>: \( 60 > 50 \)</li>
    <li>It aligns better with your risk-averse preferences</li>
  </ul>

  <h4>üíº Real Use-Cases</h4>
  <ul>
    <li><strong>Finance:</strong> Portfolio managers use utility functions to tailor risk levels for investors.</li>
    <li><strong>Insurance:</strong> People buy insurance even when it seems like a monetary loss, because peace of mind brings higher utility.</li>
    <li><strong>Health Economics:</strong> Doctors weigh treatment risks vs guaranteed but less effective alternatives.</li>
    <li><strong>AI Decision Making:</strong> AI agents (e.g., trading bots, self-driving cars) use expected utility to make rational decisions under uncertainty.</li>
  </ul>

  <h2>How do I choose this Utility Function?</h2>
  <h4>üéØ What is the Goal of a Utility Function?</h4>
  <p>A utility function \( u(\cdot) \) assigns a number to each outcome ‚Äî like ‚Çπ6,000 or ‚Çπ12,000 ‚Äî to represent how satisfied or happy you are with that outcome. These numbers let us compare uncertain choices using <strong>expected utility theory</strong>.</p>

  <h4>‚úÖ Properties of a Valid Utility Function</h4>
  <ul>
    <li><strong>Ranking:</strong> If you prefer ‚Çπ12,000 over ‚Çπ6,000, then the utility should reflect that: 
      \[
      u(‚Çπ12{,}000) > u(‚Çπ6{,}000)
      \]
    </li>
    <li><strong>Monotonicity:</strong> The function must be increasing ‚Äî more money should never give less utility.</li>
    <li><strong>Up to a Positive Linear Transformation:</strong> If \( u(x) \) is a utility function, so is \( \tilde{u}(x) = a u(x) + b \) for any \( a > 0 \). That means we care only about the order and not exact values.</li>
  </ul>

  <h4>üß† How Do You Choose a Utility Function in Practice?</h4>
  <p>There are 3 practical methods to assign utility values:</p>

  <h4>1. Direct Rating (Ordinal Utility)</h4>
  <p>Just rank the outcomes and assign increasing numbers to them, arbitrarily but consistently.</p>
  <p>Example:</p>
  <ul>
    <li>‚Çπ6,000 ‚Üí \( u = 10 \)</li>
    <li>‚Çπ10,800 ‚Üí \( u = 60 \)</li>
    <li>‚Çπ12,000 ‚Üí \( u = 70 \)</li>
  </ul>
  <p>This satisfies: 
  \[
  u(‚Çπ12{,}000) > u(‚Çπ10{,}800) > u(‚Çπ6{,}000)
  \]
  which reflects your preferences.</p>

  <h4>2. Indifference Method (Cardinal Utility)</h4>
  <p>This method helps build more precise utility functions using indifference points.</p>
  <p>Suppose someone asks: ‚ÄúWould you prefer ‚Çπ6,800 for sure, or a 50-50 lottery between ‚Çπ4,000 and ‚Çπ10,000?‚Äù</p>
  <p>If you say you‚Äôre indifferent, that means:</p>
  \[
  u(‚Çπ6{,}800) = 0.5 \cdot u(‚Çπ4{,}000) + 0.5 \cdot u(‚Çπ10{,}000)
  \]
  <p>Using this and other such responses, you can build a utility function that fits your personal preferences more accurately.</p>

  <h4>3. Use Common Utility Forms Based on Risk Preferences</h4>
  <p>Economists often assume standard utility functions based on your attitude toward risk:</p>
  <ul>
    <li><strong>Risk-Neutral:</strong> Care only about the average value.
      \[
      u(x) = x
      \]
    </li>
    <li><strong>Risk-Averse:</strong> Losing hurts more than winning helps.
      \[
      u(x) = \sqrt{x} \quad \text{or} \quad \log(x)
      \]
    </li>
    <li><strong>Risk-Loving:</strong> You enjoy taking risks.
      \[
      u(x) = x^2
      \]
    </li>
  </ul>

  <h4>üß™ Example: Try a Risk-Averse Function</h4>
  <p>Let‚Äôs say you choose \( u(x) = \sqrt{x} \). Then:</p>
  \[
  u(‚Çπ6{,}000) = \sqrt{6000} \approx 77.46
  \]
  \[
  u(‚Çπ10{,}800) = \sqrt{10800} \approx 103.92
  \]
  \[
  u(‚Çπ12{,}000) = \sqrt{12000} \approx 109.54
  \]
  <p>You can now use these values to calculate expected utilities for various investment plans and decide based on satisfaction, not just money.</p>

  <h4>üß† Bottom Line</h4>
  <p>You don‚Äôt need to know the exact utility numbers ‚Äî just the <strong>relative satisfaction</strong> you feel. If you‚Äôre unsure, choose a utility function based on your risk profile and tune it using simple thought experiments or surveys where you declare indifference between lotteries and certainties.</p>





  

  <h2>Extension of the Expected Utility Representation</h2>
  <p>We proved the expected utility representation theorem under the assumption that the outcome set \( Z \) is finite. However, when \( Z \) is infinite‚Äîfor example, when it includes all positive real numbers‚Äîthis representation no longer holds without additional assumptions.</p>

  <p>To extend the theorem to infinite \( Z \), we require a <strong>fourth axiom</strong>, called the <em>Sure Thing Principle</em>. It states: if a consumption plan \( p \) is concentrated on a subset \( B \subset Z \) where every element in \( B \) is at least as good as some plan \( q \), then \( p \) must be at least as good as \( q \).</p>

  <p>With this fourth axiom and some technical conditions, we can establish an expected utility representation for general (possibly infinite) outcome spaces \( Z \).</p>

  <h4>Multiple Time Periods</h4>
  <p>This framework also extends to consumption occurring over multiple time periods \( t = 0, 1, \dots, T \). Let \( Z \) be the set of consumption tuples \( z = (z_0, \dots, z_T) \), where each \( z_t \) denotes consumption at time \( t \).</p>

  <p>A probability distribution \( p \) over \( Z \) satisfies:</p>
  <ul>
    <li>\( p(z) \in [0, 1] \) for all \( z \in Z \), and</li>
    <li>\( \sum_{z \in Z} p(z) = 1 \).</li>
  </ul>

  <p>Preferences over these distributions again lead to a utility representation: there exists a von Neumann‚ÄìMorgenstern utility function \( u \) such that for all \( p, q \in \mathcal{P} \):</p>

  <p>
    \[
    p \succeq q \iff \sum_{z \in Z} u(z_0, \dots, z_T) \cdot p(z) \geq \sum_{z \in Z} u(z_0, \dots, z_T) \cdot q(z)
    \]
  </p>

  <h4>Time-Additive Utility</h4>
  <p>For simplicity in financial applications, utility is often assumed to be <em>time-additive</em>, meaning there exist functions \( u_t(\cdot) \) for each time \( t \) such that:</p>

  <p>
    \[
    u(z_0, \dots, z_T) = \sum_{t=0}^T u_t(z_t)
    \]
  </p>

  <p>This assumption simplifies analysis but is strong. It implies that consumption at one time doesn't affect preferences for consumption at another time‚Äîfor example, having a large lunch doesn't affect desire for a big dinner. Hence, conclusions drawn under this assumption should be interpreted carefully.</p>

  <h2>Boundedness of von Neumann‚ÄìMorgenstern Utility Functions</h2>
  <p>One implication of the expected utility theory is that a von Neumann‚ÄìMorgenstern utility function must be bounded when probability distributions involve unbounded consumption levels. This follows from the <em>Archimedean Axiom</em>.</p>

  <p>To see this, suppose the utility function \( u \) is unbounded from above and that the set \( Z \) contains all positive consumption levels. Then there exists a sequence \( \{z_n\}_{n=1}^{\infty} \) such that \( z_n \to \infty \) and \( u(z_n) \geq 2^n \). Now consider a probability distribution \( p \) such that \( p(z_n) = 2^{-n} \) for each \( n \). This plan has unbounded consumption levels.</p>

  <p>The expected utility is then</p>
  <p>
    \[
    \sum_{n=1}^\infty u(z_n) \cdot p(z_n) \geq \sum_{n=1}^\infty 2^n \cdot 2^{-n} = \sum_{n=1}^\infty 1 = \infty
    \]
  </p>

  <p>Suppose there exist \( q, r \in \mathcal{P} \) such that \( p \succsim q \succsim r \). Then \( u(q) \) and \( u(r) \) must be finite. This violates the Archimedean Axiom, which requires that there exists a probability mix between \( p \) and \( r \) that is indifferent to \( q \). Hence, \( u \) must be bounded.</p>

  <h4>Handling Unbounded Utility in Applications</h4>
  <p>This boundedness is unsettling because many commonly used utility functions are unbounded. Examples include:</p>
  <ul>
    <li>Logarithmic utility: \( u(z) = \log z \)</li>
    <li>Power utility: \( u(z) = z^{1 - \beta} \)</li>
  </ul>
  <p>Both are unbounded on \( (0, \infty) \) depending on \( \beta \). To resolve this:</p>
  <ul>
    <li>Restrict attention to consumption plans over <em>finite sets</em> of consumption levels‚Äîcommon in finite state models.</li>
    <li>Use <em>concave</em> utility functions with consumption plans having <em>finite expectations</em>.</li>
  </ul>

  <p>If \( u \) is concave and differentiable at some point \( b > 0 \), then by concavity:</p>
  <p>
    \[
    u(z) \leq u(b) + u'(b)(z - b), \quad \forall z
    \]
  </p>

  <p>Taking expectation on both sides, if \( z \) is a random variable with finite expectation:</p>
  <p>
    \[
    \mathbb{E}[u(z)] \leq u(b) + u'(b)(\mathbb{E}[z] - b) < \infty
    \]
  </p>

  <p>This means expected utility remains finite even if \( u \) is unbounded, provided \( u \) is concave and the random consumption has finite expectation.</p>

  <p>This result extends naturally to time-additive utility functions:</p>
  <p>
    \[
    u(z_0, \dots, z_T) = \sum_{t=0}^{T} u_t(z_t)
    \]
  </p>
  <p>So long as each \( u_t \) is concave and consumption at each time has finite expectation, expected utility remains finite.</p>

  <h2>The Allais Paradox and the Substitution Axiom</h2>

  <p>The <strong>Substitution Axiom</strong> (also known as the <em>Independence Axiom</em>) is a key part of the expected utility theory, but empirical experiments show that it is frequently violated. A famous example of this is the <strong>Allais Paradox</strong>, which demonstrates how actual human preferences can contradict the axiom.</p>

  <p>Consider the following two pairs of lotteries:</p>

  <ul>
    <li><strong>Pair 1:</strong>
      <ul>
        <li>\( P_1 \): \$1 million for sure.</li>
        <li>\( P_2 \): \$5 million with probability 0.1, \$1 million with probability 0.89, \$0 with probability 0.01.</li>
      </ul>
    </li>
    <li><strong>Pair 2:</strong>
      <ul>
        <li>\( P_3 \): \$0 with probability 0.11, \$5 million with probability 0.89.</li>
        <li>\( P_4 \): \$0 with probability 0.11, \$1 million with probability 0.89.</li>
      </ul>
    </li>
  </ul>

  <p>Most people prefer \( P_1 \) over \( P_2 \), valuing the certainty of receiving \$1 million. However, when faced with \( P_3 \) and \( P_4 \), they prefer \( P_3 \), chasing the higher reward despite the same small risk of ending up with nothing.</p>

  <h4>Violation of the Substitution Axiom</h4>

  <p>This behavior contradicts the Substitution Axiom, which states that if you prefer one lottery over another, you should still prefer it when both are mixed with a third lottery in the same proportions. Let's write this formally:</p>

  <p>Assume:</p>
  <ul>
    <li>\( P_1 = \delta_1 \): certain \$1 million.</li>
    <li>\( P_2 = 0.01 \cdot \$0 + 0.89 \cdot \$1m + 0.1 \cdot \$5m \)</li>
    <li>\( P_3 = 0.11 \cdot \$0 + 0.89 \cdot \$5m \)</li>
    <li>\( P_4 = 0.11 \cdot \$0 + 0.89 \cdot \$1m \)</li>
  </ul>
  <p>To illustrate the contradiction, we express \( P_1 \) and \( P_2 \) using common denominators:</p>

  <p>
    \[
    P_1 = \frac{11}{11}(\$1m)
    \]
    \[
    P_2 = \frac{1}{11}(\$0) + \frac{1}{11}(\$5m) + \frac{9}{11}(\$1m)
    \]
  </p>

  <p>If people prefer \( P_1 \succ P_2 \), then by transitivity:</p>

  <p>
    \[
    \frac{11}{11}(\$1m) \succ \frac{1}{11}(\$0) + \frac{1}{11}(\$5m) + \frac{9}{11}(\$1m)
    \]
  </p>

  <p>Subtracting the common \( \frac{9}{11}(\$1m) \) from both sides (as allowed by the <strong>Substitution Axiom</strong>):</p>

  <p>
    \[
    \frac{2}{11}(\$1m) \succ \frac{1}{11}(\$0) + \frac{1}{11}(\$5m)
    \]
  </p>

  <p>This implies:</p>

  <p>
    \[
    P_1 \succ \frac{1}{2}(\$0) + \frac{1}{2}(\$5m)
    \]
  </p>

  <p>Now consider the second pair of lotteries:</p>

  <ul>
    <li>\( P_3 = 0.11(\$0) + 0.89(\$5m) \)</li>
    <li>\( P_4 = 0.11(\$0) + 0.89(\$1m) \)</li>
  </ul>

  <p>If someone chooses \( P_3 \succ P_4 \), then they are implicitly saying:</p>

  <p>
    \[
    0.11(\$0) + 0.89(\$5m) \succ 0.11(\$0) + 0.89(\$1m)
    \]
  </p>

  <p>By canceling the common \( 0.11(\$0) \), this is equivalent to:</p>

  <p>
    \[
    \frac{1}{11}(\$5m) \succ \frac{1}{11}(\$1m)
    \]
  </p>

  <p>But this contradicts the previous comparison where \( \frac{1}{11}(\$5m) + \frac{1}{11}(\$0) \prec \frac{2}{11}(\$1m) \). Thus, choosing \( P_1 \succ P_2 \) and \( P_3 \succ P_4 \) violates the Substitution Axiom.</p>

  <h2>Risk Aversion and Concavity of Utility</h2>

  <p>An individual is <strong>risk averse</strong> if they are unwilling or indifferent to accepting an <em>actuarially fair gamble</em>. They are <strong>strictly risk averse</strong> if they <em>never</em> accept any such gamble.</p>

  <p>Consider a gamble where an individual with initial wealth \( W_0 \) receives:</p>
  <ul>
    <li>A positive return \( h_1 \) with probability \( p \),</li>
    <li>A negative return \( h_2 \) with probability \( 1 - p \).</li>
  </ul>

  <p>The gamble is <strong>actuarially fair</strong> if the expected monetary payoff is zero:</p>

  <p>
    \[
    p h_1 + (1 - p) h_2 = 0
    \]
  </p>

  <p>Let \( u(\cdot) \) be the utility function. Then risk aversion implies:</p>

  <p>
    \[
    u(W_0) \geq p \cdot u(W_0 + h_1) + (1 - p) \cdot u(W_0 + h_2)
    \]
  </p>

  <p>Using the fair gamble condition, this can be rewritten as:</p>

  <p>
    \[
    u\left(p(W_0 + h_1) + (1 - p)(W_0 + h_2)\right) \geq p \cdot u(W_0 + h_1) + (1 - p) \cdot u(W_0 + h_2)
    \]
  </p>

  <p>This inequality shows that the utility of the expected payoff is greater than or equal to the expected utility of the gamble. This is precisely the definition of a <strong>concave function</strong>. Thus:</p>

  <ul>
    <li>Risk aversion ‚áî \( u(\cdot) \) is concave.</li>
    <li>Strict risk aversion ‚áî \( u(\cdot) \) is strictly concave.</li>
  </ul>
  <div style="text-align: center;">
    <img src="hl117.png" alt="Concave Utility Function Illustration" style="max-width: 100%; height: auto; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 12px;">
    <p style="font-size: 0.9em; color: #555; margin-top: 8px;"><em>Figure: A strictly concave utility function ‚Äî expected utility lies below utility of expected payoff</em></p>
  </div>

  <p><strong>The above figure </strong> (conceptually) shows:</p>

  <p>
    \[
    u(W_0) > p \cdot u(W_0 + h_1) + (1 - p) \cdot u(W_0 + h_2)
    \]
  </p>

  <p>The expected utility lies below the chord joining \( u(W_0 + h_1) \) and \( u(W_0 + h_2) \) ‚Äî a hallmark of strict concavity. This visual demonstrates that the individual prefers the sure amount over the fair gamble, thus confirming strict risk aversion.</p>

 
  <h2>Portfolio Choice of a Risk-Averse Individual</h2>

  <p>
    Consider a risk-averse individual who has strictly increasing and concave utility over final wealth. They must allocate an initial wealth \( W_0 \) between a risk-free asset and a set of risky assets.
  </p>

  <p>
    Let \( r_f \) denote the return on the risk-free asset, and let \( r_j \) be the (random) return on the \( j \)-th risky asset. Let \( \alpha_j \) denote the dollar amount invested in risky asset \( j \). The remaining wealth \( W_0 - \sum_j \alpha_j \) is invested in the risk-free asset.
  </p>

  <p>
    The total wealth at the end of the period, \( W \), is then given by:
  </p>

  \[
  W = (W_0 - \sum_j \alpha_j)(1 + r_f) + \sum_j \alpha_j (1 + r_j)
  \]

  <p>
    Expanding and simplifying:
  </p>

  \[
  W = W_0(1 + r_f) + \sum_j \alpha_j (r_j - r_f)
  \]

  <p>
    The individual's objective is to choose the allocation \( \{\alpha_j\} \) to maximize expected utility of wealth:
  </p>

  \[
  \max_{\{\alpha_j\}} \mathbb{E}\left[u\left(W_0(1 + r_f) + \sum_j \alpha_j (r_j - r_f)\right)\right]
  \]

  <p>
    Since \( u \) is concave and differentiable, we can derive first-order conditions for optimality by differentiating the objective with respect to each \( \alpha_j \) and setting the derivative equal to zero:
  </p>

  \[
  \frac{\partial}{\partial \alpha_j} \mathbb{E}[u(W)] = \mathbb{E}\left[u'(W)(r_j - r_f)\right] = 0 \quad \forall j
  \]

  <p>
    These first-order conditions are necessary and sufficient due to concavity of \( u \). They imply that the marginal utility-weighted return in excess of the risk-free rate must be zero in expectation.
  </p>

  <p>
    Finally, because \( u \) is strictly increasing, \( u'(W) > 0 \), so the expected excess returns \( r_j - r_f \) must take both positive and negative values. That is, the distribution of risky returns must be non-degenerate.
  </p>

  <p>
    This framework is fundamental in modern portfolio theory, leading directly to concepts like the Capital Asset Pricing Model (CAPM) under additional assumptions.
  </p>

  <h2>Risk Aversion and Risky Investment</h2>

  <p>
    An individual who is risk averse and strictly prefers more to less (i.e., has a strictly increasing and concave utility function) will invest in risky assets if and only if at least one of those assets has a strictly positive risk premium.
  </p>

  <p>
    Let the risk-free rate be denoted by \( r_f \), and let the random return of the \( j \)-th risky asset be \( r_j \). The individual's optimal allocation \( \alpha_j \) in the \( j \)-th risky asset satisfies the first-order condition:
  </p>

  \[
  \mathbb{E}[u'(W)(r_j - r_f)] = 0 \quad \forall j
  \]

  <p>
    Suppose the individual does not invest in any risky asset, i.e., \( \alpha_j = 0 \ \forall j \). Then their end-of-period wealth is risk-free: \( W = W_0(1 + r_f) \). Because \( u' > 0 \), the first-order condition at \( \alpha_j = 0 \) implies:
  </p>

  \[
  \mathbb{E}[r_j - r_f] \leq 0 \quad \forall j
  \]

  <p>
    That is, unless every risky asset has non-positive expected excess return, the individual has an incentive to take some positive risky position. Hence, the individual will avoid all risky investments only if:
  </p>

  \[
  \mathbb{E}[r_j - r_f] \leq 0 \quad \forall j
  \]

  <p>
    On the other hand, if there exists at least one risky asset \( j' \) such that:
  </p>

  \[
  \mathbb{E}[r_{j'} - r_f] > 0
  \]

  <p>
    then there exists at least one risky asset \( j \) such that the individual will optimally allocate a positive amount to it:
  </p>

  \[
  \exists j \text{ such that } \alpha_j > 0
  \]

  <p>
    Importantly, when multiple risky assets are available, the asset with the highest risk premium is not necessarily the one receiving a positive investment, due to diversification effects. However, when there is only one risky asset, this simplifies: a strictly positive risk premium directly implies a positive investment in that asset.
  </p>

  <h2>Minimum Risk Premium for Full Investment</h2>
  <p>
    We consider a strictly risk-averse individual who prefers more to less. The economy contains one risky asset and one risk-free asset. If the risky asset has a strictly positive risk premium, Section 1.19 ensures that the individual will make a strictly positive investment in it.
  </p>

  <p>
    This section focuses on determining the <em>minimum risk premium</em> required to induce the individual to invest <strong>all</strong> of their wealth in the risky asset. Let \( i \) be the rate of return on the risky asset and \( r_f \) the risk-free rate. The investment decision must satisfy:
  </p>

  \[
  \mathbb{E}\left[u'(W_0(1 + i))(i - r_f)\right] \geq 0
  \]

 <p>We take a first-order Taylor expansion of \( u'(W_0(1 + i)) \) around \( W_0(1 + r_f) \):</p>
  \[
  u'(W_0(1 + i)) \approx u'(W_0(1 + r_f)) + u''(W_0(1 + r_f)) \cdot W_0(i - r_f)
  \]

  <p>Multiplying both sides by \( (i - r_f) \) and taking expectations:</p>
  \[
  \mathbb{E}[u'(W_0(1 + i)) \cdot (i - r_f)] \approx u'(W_0(1 + r_f)) \cdot \mathbb{E}[i - r_f] + u''(W_0(1 + r_f)) \cdot W_0 \cdot \mathbb{E}[(i - r_f)^2]
  \]

  <p>To find the <em>minimum risk premium</em> required to induce full risky investment, we set the expression to zero:</p>
  \[
  u'(W_0(1 + r_f)) \cdot \mathbb{E}[i - r_f] + u''(W_0(1 + r_f)) \cdot W_0 \cdot \mathbb{E}[(i - r_f)^2] = 0
  \]

  <p>Solving for the expected excess return \( \mathbb{E}[i - r_f] \), we get:</p>
  \[
  \mathbb{E}[i - r_f] = -\frac{u''(W_0(1 + r_f))}{u'(W_0(1 + r_f))} \cdot W_0 \cdot \mathbb{E}[(i - r_f)^2]
  \]

  <p>Using the <strong>Arrow-Pratt measure of absolute risk aversion</strong>, defined as</p>
  \[
  R_A(x) = -\frac{u''(x)}{u'(x)},
  \]
  <p>we write the final expression as:</p>
  \[
  \mathbb{E}[i - r_f] = R_A(W_0(1 + r_f)) \cdot W_0 \cdot \mathbb{E}[(i - r_f)^2]
  \]
  <p>
    This measure is meaningful because it remains <strong>invariant under strictly positive affine transformations</strong> of the utility function (i.e., changes of the form \( au(x) + b \), with \( a > 0 \)). Hence, unlike the second derivative alone, it properly captures the curvature-related intensity of risk aversion in expected utility theory.
  </p>

  <h2>Absolute Risk Aversion and Behavior Toward Risky Assets</h2>

  <p>
    Absolute risk aversion, defined by the Arrow-Pratt measure as 
    \[
    R_A(z) = -\frac{u''(z)}{u'(z)},
    \]
    characterizes how an individual's risk tolerance changes with wealth. Depending on how \( R_A(z) \) changes with \( z \), we classify preferences as:
  </p>

  <ul>
    <li><strong>Decreasing Absolute Risk Aversion (DARA):</strong> \( \frac{dR_A(z)}{dz} < 0 \). The individual becomes more tolerant to risk as wealth increases.</li>
    <li><strong>Increasing Absolute Risk Aversion (IARA):</strong> \( \frac{dR_A(z)}{dz} > 0 \). The individual becomes less tolerant to risk with more wealth.</li>
    <li><strong>Constant Absolute Risk Aversion (CARA):</strong> \( \frac{dR_A(z)}{dz} = 0 \). Risk tolerance does not change with wealth.</li>
  </ul>

  <p>
    Arrow (1970) showed the economic significance of these patterns. Suppose an individual chooses between a riskless asset and a single risky asset. Then:
  </p>

  <ul>
    <li>If the utility function exhibits DARA, the risky asset behaves like a <strong>normal good</strong>: demand for it increases with wealth.</li>
    <li>If the utility exhibits IARA, the risky asset is an <strong>inferior good</strong>: demand decreases as wealth increases.</li>
    <li>If CARA holds, demand is <strong>independent</strong> of wealth.</li>
  </ul>

  <p>The goal is to determine how an individual‚Äôs optimal investment in the risky asset, denoted \( a \), changes with initial wealth \( W_0 \).</p>

  <h4>First-Order Condition</h4>

  <p>
    The first-order condition (FOC) for optimal investment is:
    \[
    \mathbb{E}\left[ u'(W) \cdot (i - r_f) \right] = 0,
    \]
    where final wealth is \( W = W_0(1 + r_f) + a(i - r_f) \), and \( i \) is the random return on the risky asset.
  </p>

  <h4>How Optimal Investment Changes with Wealth</h4>

  <p>
    To study how \( a \) changes with \( W_0 \), we apply <strong>implicit differentiation</strong> to the FOC. Differentiating both sides with respect to \( W_0 \), we get:
    \[
    \frac{da}{dW_0} = \frac{ \mathbb{E}\left[ u''(W)(i - r_f) \cdot (1 + r_f) \right] }{ \mathbb{E}\left[ u''(W)(i - r_f)^2 \right] }.
    \]
    This is equation (1.21.1).
  </p>

  <p>
    Since \( u''(W) < 0 \), the denominator is negative. Therefore, the <strong>sign</strong> of \( \frac{da}{dW_0} \) depends on the sign of the numerator:
    \[
    \text{sign} \left( \frac{da}{dW_0} \right) = \text{sign} \left( \mathbb{E}[u''(W)(i - r_f)] \right).
    \]
  </p>

  <h4>Role of Decreasing Absolute Risk Aversion</h4>

  <p>
    Under DARA, \( R_A(z) \) is strictly decreasing, i.e., \( \frac{dR_A(z)}{dz} < 0 \). Since wealth \( W \) depends positively on \( W_0 \), and the return \( i \) is uncertain, we split the expectation based on return cases:
  </p>

  <ul>
    <li>When \( i \geq r_f \), then \( W \geq W_0(1 + r_f) \), so DARA implies:
    \[
    u''(W) > -R_A(W_0(1 + r_f)) \cdot u'(W)
    \]</li>

    <li>When \( i < r_f \), then \( W < W_0(1 + r_f) \), so DARA implies:
    \[
    u''(W) < -R_A(W_0(1 + r_f)) \cdot u'(W)
    \]</li>
  </ul>

  <p>
    Multiplying both cases by \( (i - r_f) \) and taking expectations across \( i \), and using the FOC 
    \(\mathbb{E}[u'(W)(i - r_f)] = 0\), we find:
    \[
    \mathbb{E}[u''(W)(i - r_f)] > 0 \Rightarrow \frac{da}{dW_0} > 0
    \]
    This confirms that <strong>under DARA, investment in the risky asset increases with wealth</strong>.
  </p>

  <h4>Third Derivative and Risk Aversion Dynamics</h4>

  <p>
    Finally, the property \( \frac{dR_A(z)}{dz} < 0 \) implies the third derivative of utility is positive:
    \[
    \frac{dR_A(z)}{dz} = \frac{ -u'''(z)u'(z) + [u''(z)]^2 }{ [u'(z)]^2 } \leq 0
    \Rightarrow u'''(z) > 0
    \]
    This tells us that for DARA behavior, the utility function is strictly increasing, concave, and its rate of concavity decreases‚Äîi.e., the individual becomes less risk averse as wealth grows.
  </p>

<h2>Common Utility Functions and Risk Aversion Behavior</h2>

  <p>
    In finance, several standard utility functions are used to model risk aversion and its impact on investment decisions. These functions help determine whether the risky asset behaves like a normal or inferior good, and how investment demand changes with wealth.
  </p>

  <h4>1. Quadratic Utility Function</h4>

  <p>
    \[
    u(z) = z - bz^2, \quad b > 0
    \]
    First and second derivatives:
    \[
    u'(z) = 1 - 2bz, \quad u''(z) = -2b
    \]
    Absolute risk aversion:
    \[
    R_A(z) = \frac{-u''(z)}{u'(z)} = \frac{2b}{1 - 2bz}
    \]
    Its derivative:
    \[
    \frac{dR_A(z)}{dz} = \frac{4b^2}{(1 - 2bz)^2} > 0
    \]
    So, this utility function exhibits <strong>increasing absolute risk aversion</strong> (IARA). As wealth increases, the individual becomes more risk averse. Thus, the risky asset is considered an <strong>inferior good</strong>.
  </p>

  <h4>2. Negative Exponential Utility Function</h4>

  <p>
    \[
    u(z) = -e^{-bz}, \quad b > 0
    \]
    Derivatives:
    \[
    u'(z) = be^{-bz} > 0, \quad u''(z) = -b^2e^{-bz} < 0
    \]
    Absolute risk aversion:
    \[
    R_A(z) = \frac{-u''(z)}{u'(z)} = b \quad \text{(constant)}
    \]
    So,
    \[
    \frac{dR_A(z)}{dz} = 0
    \]
    This function shows <strong>constant absolute risk aversion (CARA)</strong>. The amount invested in the risky asset is independent of wealth. Any change in wealth is absorbed via the riskless asset.
  </p>

  <h4>3. Narrow Power Utility Function</h4>

  <p>
    \[
    u(z) = \frac{z^{1 - B}}{1 - B}, \quad B > 0, z > 0
    \]
    Derivatives:
    \[
    u'(z) = z^{-B}, \quad u''(z) = -Bz^{-B - 1}
    \]
    Absolute and relative risk aversion:
    \[
    R_A(z) = \frac{-u''(z)}{u'(z)} = \frac{B}{z}, \quad R_R(z) = z \cdot R_A(z) = B
    \]
    Derivatives:
    \[
    \frac{dR_A(z)}{dz} = -\frac{B}{z^2} < 0, \quad \frac{dR_R(z)}{dz} = 0
    \]
    So, this function exhibits <strong>decreasing absolute risk aversion (DARA)</strong> and <strong>constant relative risk aversion (CRRA)</strong>. The proportion of wealth allocated to risky assets stays fixed as wealth changes.
  </p>

  <h4>4. Extended Power Utility Function</h4>

  <p>
    \[
    u(z) = \frac{(A + Bz)^{1 - \gamma}}{1 - \gamma}, \quad B > 0,\ \gamma > 0,\ z > \max\left(0, -\frac{A}{B}\right)
    \]
    Derivatives:
    \[
    u'(z) = B(A + Bz)^{-\gamma}, \quad u''(z) = -\gamma B^2(A + Bz)^{-\gamma - 1}
    \]
    Absolute and relative risk aversion:
    \[
    R_A(z) = \frac{-u''(z)}{u'(z)} = \frac{\gamma B}{A + Bz}, \quad R_R(z) = z \cdot R_A(z) = \frac{\gamma B z}{A + Bz}
    \]
    Derivatives:
    \[
    \frac{dR_A(z)}{dz} = -\frac{\gamma B^2}{(A + Bz)^2} < 0
    \]
    \[
    \frac{dR_R(z)}{dz} = \frac{\gamma B A}{(A + Bz)^2}
    \]
    Interpretation:
    <ul>
      <li>If \( A > 0 \): \( \frac{dR_R(z)}{dz} > 0 \) ‚áí Increasing relative risk aversion (IRRA)</li>
      <li>If \( A = 0 \): \( \frac{dR_R(z)}{dz} = 0 \) ‚áí Constant relative risk aversion (CRRA)</li>
      <li>If \( A < 0 \): \( \frac{dR_R(z)}{dz} < 0 \) ‚áí Decreasing relative risk aversion (DRRA)</li>
    </ul>
    This utility is flexible‚Äîit can exhibit DARA or CRRA depending on parameters and generalizes many common forms. It reduces to the narrow power utility when \( A = 0 \).
  </p>
<h3>Exercises from Huang and Litzenberger</h3>
        
  <h4>Exercise 1.1: Countable Set and Utility Representation</h4>
  <p>
    Let \( X \) be a countable set. A binary relation \( \succeq \) on \( X \) is a preference relation if and only if it can be represented by a real-valued function.
  </p>
  <p>
    Intuitively, a preference relation expresses the idea that one element is at least as desirable as another. If such a relation exists on a countable set, it is always possible to assign real numbers (utilities) to the elements such that higher numbers represent more preferred elements.
  </p>
  <p>
    For example, if you have a countable list of products (like coffee brands), you can rank them by assigning utilities: A = 3, B = 2, C = 1 to reflect preferences A ‚âª B ‚âª C. This ordinal utility captures the preference structure.
  </p>
  <p>
    <strong>Proof:</strong> Suppose \( X = \{x_1, x_2, x_3, \ldots\} \) is countable. Define a function \( u: X \rightarrow \mathbb{R} \) such that for all \( x_i, x_j \in X \),
    \[
      x_i \succeq x_j \iff u(x_i) \geq u(x_j).
    \]
    This is done by assigning numbers to each element respecting the preference order. Since the set is countable, we can construct such a function step-by-step.
  </p>
  <p>
    Conversely, if a function \( u \) exists such that \( x \succeq y \iff u(x) \geq u(y) \), then the relation is complete and transitive by properties of real numbers. Thus, it is a preference relation.
  </p>
  <p>
    Hence, a binary relation on a countable set is a preference relation if and only if it admits a utility representation.
  </p>

  <h4>Exercise 1.2: Lexicographic Preferences and Non-Representability</h4>
  <p>
    Define \( X = [0,1] \times [0,1] \) and the relation \( (x_1, x_2) \succeq (y_1, y_2) \) if either \( x_1 > y_1 \), or \( x_1 = y_1 \) and \( x_2 \geq y_2 \). This is known as the lexicographic preference relation.
  </p>

  <h4>1.2.1 Verification of Preference Relation</h4>
  <p>
    The relation is complete because for any two elements, one of the comparison conditions must hold. It is transitive because if \( x \succeq y \) and \( y \succeq z \), then either \( x_1 > y_1 \) or \( x_1 = y_1 \) and \( x_2 \geq y_2 \), and similarly for \( y \succeq z \). These conditions together imply \( x \succeq z \). Thus, the relation is a preference relation.
  </p>

  <h4>1.2.2 Strict Comparison Implies Equality</h4>
  <p>
    Suppose both \( x \succeq y \) and \( y \succeq x \). Then:
    <ul>
      <li>If \( x_1 > y_1 \), then \( y \not\succeq x \)</li>
      <li>If \( x_1 = y_1 \) and \( x_2 > y_2 \), then again \( y \not\succeq x \)</li>
      <li>Only possibility for both to hold is when \( x_1 = y_1 \) and \( x_2 = y_2 \)</li>
    </ul>
    Hence, \( x = y \).
  </p>

  <h4>1.2.3 Non-Representability by Real-Valued Function</h4>
  <p>
    The representation theorem states that a binary relation \( \succeq \) can be represented by a real-valued function if it is a preference relation and there exists a countable \( \succeq \)-order dense subset \( Y \subset X \). We already verified \( \succeq \) is a preference relation.
  </p>
  <p>
    Suppose \( Y \subset X \) is countable and order-dense. Pick two points \( x = (x_1, x_2) \) and \( x' = (x_1, x_2') \) with \( x_2 < x_2' \). Any point between them under the lexicographic relation must have the same first coordinate \( x_1 \) and second coordinate strictly between \( x_2 \) and \( x_2' \). But the interval \( (x_2, x_2') \) is uncountable, so no countable subset can intersect all such intervals. Therefore, no countable \( \succeq \)-order dense set exists.
  </p>
  <p>
    Since one of the conditions of the representation theorem fails, this lexicographic preference relation cannot be represented by a real-valued utility function.
  </p>














































































<p><strong>Last updated:</strong> June 17, 2025</p>  
</section>

<div class="nav-bottom">
  <a href="hl-ch2.html">Next Chapter &rarr;</a>
</div>

<footer>
  &copy; 2025 Mohammad Shaan | This site is maintained on GitHub Pages.
</footer>
<!-- MathJax for LaTeX -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
  function toggleHint(id) {
    var hint = document.getElementById(id);
    if (hint.style.display === "none" || hint.style.display === "") {
      hint.style.display = "block";
    } else {
      hint.style.display = "none";
    }
  }
</script>

</body>
</html>
