<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stochastic Processes & Finance – Summer Reading Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Lato', sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
    }
    header {
      background-color: #003366;
      color: white;
      padding: 1em;
      text-align: center;
    }
    nav {
      background-color: #e0e0e0;
      padding: 1em;
      text-align: center;
    }
    nav a {
      margin: 0 1em;
      text-decoration: none;
      color: #003366;
      font-weight: bold;
    }
    section {
      max-width: 1200px;
      margin: 2em auto;
      padding: 1em;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .nav-bottom a {
      flex: 1;
      text-align: center;
      padding: 0.5em 1em;
      color: #003366;
      font-weight: bold;
      text-decoration: none;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      color: #777;
      margin: 2em 0;
    }
    .hint-text {
      display: none;
      margin-top: 0.5em;
      background: #f0f0f0;
      padding: 0.5em;
      border-left: 4px solid #0077cc;
      border-radius: 4px;
    }

    .hint-button {
      margin-top: 1em;
      background-color: #0077cc;
      color: white;
      border: none;
      padding: 0.4em 0.8em;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
    }

    .hint-button:hover {
      background-color: #005fa3;
    }
  </style>
</head>
<body>

<header>
  <h1>Chapter 3: Mathematics of the Portfolio Frontier</h1>
  <p>Study notes and chapter summaries</p>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="notes.html">Notes</a>
  <a href="projects.html">Programming</a>
</nav>
<section>

  <h2>Section 3.1: Second-Degree Stochastic Dominance (SSD)</h2>

  <h2>Core Idea</h2>
  <ul>
    <li><strong>Asset A</strong> must offer <strong>at least the same expected return</strong> as <strong>Asset B</strong></li>
    <li>But with <strong>less risk</strong> (measured by <strong>variance</strong>)</li>
  </ul>
  <p>This leads us to portfolio selection: among all portfolios offering the same expected return, the dominant one is the one with the least variance.</p>

  <h2>What Is Second-Degree Stochastic Dominance (SSD)?</h2>
  <p>SSD is a decision rule for <strong>risk-averse investors</strong>.</p>
  <p>Let \( F_A(x) \) and \( F_B(x) \) be cumulative distribution functions (CDFs) of the returns of assets A and B.</p>
  <p>We say A dominates B in the second degree if:</p>
  \[
  \int_{-\infty}^{x} F_A(t)\, dt \leq \int_{-\infty}^{x} F_B(t)\, dt \quad \text{for all } x
  \]
  <p>...and strictly less for at least one \( x \). This reflects <strong>preference under concave utility</strong>.</p>

  <h2>Interpretation</h2>
  <ul>
    <li>For <strong>risk-averse</strong> agents, less variance is better, holding expected return constant.</li>
    <li>If Asset A has <strong>equal mean but lower variance</strong>, then it’s preferred under SSD.</li>
  </ul>

  <h2>In Portfolio Context</h2>
  <p>Suppose you have many portfolios, all yielding \( E[R] = 8\% \).</p>
  <p>SSD says: pick the one with the lowest variance — that’s the efficient frontier logic in Markowitz’s framework.</p>

  <h2>Visual</h2>
  <pre>
Risk (Variance) →→→

Portfolio A (Low Variance)
|
|     •
|
|
|          • Portfolio B (Higher Variance)
|
----------------------------
         Same Expected Return
  </pre>

  
 
  
  
  <h2>Section 3.2: Mean-Variance Model and Investor Preferences</h2>
  <h2>1. The Mean-Variance Model: Origins and Essence</h2>
  <p>This refers to the <strong>Modern Portfolio Theory (MPT)</strong> introduced by <strong>Harry Markowitz</strong>, which proposes that investors choose portfolios based on just two things:</p>
  <ul>
    <li><strong>Expected Return</strong>: \( E[\tilde{R}] \)</li>
    <li><strong>Variance (or standard deviation)</strong> of return: \( \text{Var}(\tilde{R}) \) or \( \sigma(\tilde{R}) \)</li>
  </ul>

  <h2>Core Assumptions</h2>
  <ul>
    <li><strong>Rationality</strong>: Investors are logical and consistent</li>
    <li><strong>Risk Aversion</strong>: Investors dislike uncertainty</li>
    <li><strong>Utility depends only on mean and variance</strong>: No concern for skewness or kurtosis</li>
    <li><strong>Normally distributed returns</strong>: Ensures mean and variance fully define the distribution</li>
  </ul>

  <h2>Visualization: Efficient Frontier</h2>
  <pre>
Expected Return ↑
                • A
              •
            •      ← Efficient Frontier
          •
        •
      •
      ----------------------------→ Risk (Standard Deviation)
  </pre>
  <ul>
    <li><strong>Efficient Frontier</strong>: Set of portfolios that <strong>maximize expected return</strong> for a given level of risk</li>
    <li>Investors pick a point <strong>on</strong> the frontier, depending on their risk preference</li>
  </ul>

  <h2>2. Why Mean-Variance? Utility Theory Justification</h2>
  <p>The preferences assumed in MPT come <strong>naturally</strong> from <strong>standard utility theory</strong>:</p>
  <ul>
    <li><strong>Monotonicity</strong>: More wealth → higher utility</li>
    <li><strong>Strict concavity</strong>: Diminishing marginal utility of wealth → aversion to risk</li>
  </ul>
  <p>Mathematically:</p>
  <ul>
    <li>\( u'(W) > 0 \): increasing</li>
    <li>\( u''(W) < 0 \): concave → risk aversion</li>
  </ul>
  <p>These properties justify:</p>
  \[
  \text{Maximize } E[u(\tilde{W})] \approx u(E[\tilde{W}]) + \frac{1}{2}u''(E[\tilde{W}])\text{Var}(\tilde{W})
  \]

  <h2>3. The Limitation: Only Works for Special Cases</h2>
  <p>This is a <strong>critical caveat</strong>. The mean and variance only capture the first two moments of a distribution. But:</p>
  <ul>
    <li>Real-world returns often have <strong>skewness</strong> (3rd moment) and <strong>kurtosis</strong> (4th moment)</li>
    <li>Some utility functions are not well approximated by a second-order Taylor expansion</li>
  </ul>

  <h2>Example</h2>
  <p>Consider two investments with the same mean and variance, but one has fat left tails (higher crash risk). MPT would treat them equally — but any real investor would prefer the safer one.</p>

  <h2>Visual: Two Distributions With Same Mean/Variance</h2>
  <pre>
Return →
            |              *
Probability |       *   *   *
            |    *           *     ← Fat right tail
            | *               *
            |------------------------→
                  Mean
  </pre>

  <pre>
Return →
            |     *       *
Probability |  *             *
            |*                 *   ← Fat left tail (crash risk)
            |------------------------→
                  Mean
  </pre>
  <p>These two have the same \( E[\tilde{R}] \) and \( \text{Var}(\tilde{R}) \), but very different risks.</p>

  <h2>4. Why Still Use It? Analytical Tractability and Empirical Power</h2>

  <h2>Analytical Tractability</h2>
  <ul>
    <li>Easy to compute: only need means, variances, and covariances</li>
    <li>Optimization becomes <strong>quadratic programming</strong>: solvable even for large portfolios</li>
    <li>Leads to <strong>closed-form solutions</strong> in many cases</li>
  </ul>

  <h2>Rich Empirical Implications</h2>
  <ul>
    <li>Forms the basis for:
      <ul>
        <li>Capital Market Line (CML)</li>
        <li>Capital Asset Pricing Model (CAPM)</li>
        <li>Sharpe ratio, portfolio beta, etc.</li>
      </ul>
    </li>
    <li>Despite its simplifications, MPT often gives <strong>good first approximations</strong> and <strong>predictive power</strong> in real markets</li>
  </ul>

  <h2>Summary Table</h2>
  <ul>
    <li><strong>Origin</strong>: Markowitz (1952), assumes decisions based on \( E[\tilde{R}], \text{Var}(\tilde{R}) \)</li>
    <li><strong>Justification</strong>: Comes from monotonic and concave utility functions</li>
    <li><strong>Limitation</strong>: Not valid for all distributions or utility functions</li>
    <li><strong>Why Still Popular?</strong>: Simple math, strong predictive models (CAPM, efficient frontier)</li>
  </ul>

  <h2>Final Thoughts</h2>
  <p>This section reminds us that the mean-variance model is a <strong>practical approximation</strong>, not a universal truth. It's powerful because it's <strong>simple</strong> and <strong>useful</strong>, not because it's always accurate. Recognizing both its <strong>utility and its limits</strong> is key to using it wisely in both theoretical and applied finance.</p>
   
  
  
  
  
  <h2>Section 3.3: Utility Function Expansion Using Taylor Series</h2>
<h2>1. Context: Why Expand Utility Using Taylor Series?</h2>
<p>
  Investors care about their <strong>expected utility</strong>, not just expected wealth. But computing <code>E[u(&#x007e;W)]</code> for an arbitrary utility function <code>u</code> and wealth distribution <code>&#x007e;W</code> is hard.
</p>
<p>
  To make it tractable, we <strong>approximate</strong> <code>u(&#x007e;W)</code> by <strong>expanding it around its mean</strong> <code>E[&#x007e;W]</code> using a Taylor series.
</p>

<h2>2. The Taylor Expansion</h2>
<p>
  Let <code>&#x007e;W</code> be the random end-of-period wealth. The utility function is expanded as:
</p>
<pre>
u(&#x007e;W) = u(E[&#x007e;W]) + u'(E[&#x007e;W])(&#x007e;W - E[&#x007e;W]) 
+ (1/2)u''(E[&#x007e;W])(&#x007e;W - E[&#x007e;W])² + R₃
</pre>

<h3>Breakdown of Terms:</h3>
<ul>
  <li><code>u(E[&#x007e;W])</code>: Utility of the expected wealth — baseline</li>
  <li><code>u'(E[&#x007e;W])(&#x007e;W - E[&#x007e;W])</code>: Linear sensitivity — vanishes under expectation</li>
  <li><code>(1/2)u''(E[&#x007e;W])(&#x007e;W - E[&#x007e;W])²</code>: Penalty for risk (variance)</li>
  <li><code>R₃</code>: Remainder term — captures skewness, kurtosis, etc.</li>
</ul>

<h2>3. Taking Expectation</h2>
<p>
  Now take the expectation:
</p>
<pre>
E[u(&#x007e;W)] = u(E[&#x007e;W]) + (1/2)u''(E[&#x007e;W])Var(&#x007e;W) + E[R₃]
</pre>
<ul>
  <li>First-order term vanishes: <code>E[&#x007e;W - E[&#x007e;W]] = 0</code></li>
</ul>

<p><strong>Intuition:</strong></p>
<ul>
  <li>Second-order term reflects <strong>penalty for variance</strong></li>
  <li>If <code>u'' &lt; 0</code>, more variance reduces utility</li>
  <li>Remainder term captures higher-moment effects</li>
</ul>

<h2>4. What Is the Remainder Term R₃?</h2>
<p>
  The remainder term is:
</p>
<pre>
R₃ = ∑ (from n=3 to ∞) [1/n!] × u⁽ⁿ⁾(E[&#x007e;W]) × (&#x007e;W - E[&#x007e;W])ⁿ
</pre>
<pre>
E[R₃] = ∑ (from n=3 to ∞) [1/n!] × u⁽ⁿ⁾(E[&#x007e;W]) × m⁽ⁿ⁾(&#x007e;W)
</pre>
<ul>
  <li><strong>u⁽ⁿ⁾</strong>: n-th derivative of utility</li>
  <li><strong>m⁽ⁿ⁾(&#x007e;W)</strong>: n-th central moment of wealth</li>
</ul>

<h3>Central Moments Summary:</h3>
<ul>
  <li>1st: 0</li>
  <li>2nd: Variance</li>
  <li>3rd: Skewness</li>
  <li>4th: Kurtosis</li>
</ul>

<h2>5. Interpretation of Equation</h2>
<pre>
E[u(&#x007e;W)] ≈ u(E[&#x007e;W]) + (1/2)u''(E[&#x007e;W])Var(&#x007e;W)
</pre>
<ul>
  <li>Utility increases with <strong>expected wealth</strong></li>
  <li>Utility decreases with <strong>variance</strong> if <code>u'' &lt; 0</code></li>
</ul>

<h3>Implication:</h3>
<ul>
  <li><strong>Preference for mean</strong></li>
  <li><strong>Aversion to variance</strong></li>
</ul>
<p>This justifies mean-variance analysis in portfolio theory.</p>

<h2>6. But... Expected Utility Is Not Always Mean-Variance Based</h2>
<ul>
  <li>If higher moments matter, mean-variance is insufficient</li>
  <li>Full distribution is relevant for general utility functions</li>
</ul>

<p><strong>Example:</strong></p>
<ul>
  <li>Asset A: positive skew</li>
  <li>Asset B: negative skew</li>
</ul>
<p>
  Same mean and variance, but different investor preferences—mean-variance analysis fails to distinguish.
</p>

<h2>7. Visualizing the Concepts</h2>
<h3>Utility Curve and Risk Aversion</h3>
<pre>
Utility ↑
        •
     •     ← u(E[W])
  •
•
---------------------→ Wealth
         ↑
       E[W]
</pre>
<ul>
  <li>Concave curve → diminishing marginal utility</li>
  <li>Variance reduces expected utility</li>
</ul>

<h3>Skewed Distributions With Same Mean/Variance</h3>
<pre>
        •       •
      •   •   •   •
    •       •       •
------------------------→ Return
</pre>
<p>Mean and variance are the same, but tail behavior differs.</p>

<h2>8. Final Takeaways</h2>
<ul>
  <li><strong>Taylor expansion</strong> makes expected utility manageable</li>
  <li><strong>Mean and variance</strong> are not always sufficient</li>
  <li><strong>Higher-order moments</strong> like skewness and kurtosis often matter</li>
  <li><strong>Mean-variance preference</strong> is a simplification, not a general truth</li>
</ul>






  <h2>🔷 Section 3.4: Mean-Variance from Quadratic Utility</h2>

<h2>🧠 The Idea</h2>
<p>The Taylor series remainder term E[R₃] from Section 3.3 vanishes if:</p>
<ul>
  <li>u⁽ⁿ⁾(W) = 0 for n ≥ 3</li>
</ul>
<p>This holds when the utility function is quadratic:</p>
<p>u(W) = aW - (b/2)W², with b &gt; 0</p>
<p>Then: u'(W) = a - bW, u''(W) = -b, and u⁽ⁿ⁾(W) = 0 for n ≥ 3</p>

<h2>✅ Result</h2>
<p>Since all higher-order derivatives are zero:</p>
<p>E[u(Ẇ)] = u(E[Ẇ]) + (1/2)u''(E[Ẇ])Var(Ẇ)</p>
<p>This expression is exact.</p>

<h2>🔍 Rewriting Expected Utility</h2>
<p>Given: u(Ẇ) = Ẇ - (b/2)Ẇ²</p>
<p>So: E[u(Ẇ)] = E[Ẇ] - (b/2)E[Ẇ²]</p>
<p>But E[Ẇ²] = (E[Ẇ])² + Var(Ẇ) = μ² + σ²</p>
<p>Therefore: E[u(Ẇ)] = μ - (b/2)(μ² + σ²)</p>

<h2>🎯 Implication</h2>
<p>Utility depends only on the mean and variance of wealth Ẇ. Mean-variance analysis is therefore exact under quadratic utility.</p>

<h2>⚠️ Problems with Quadratic Utility</h2>

<h3>1. Satiation</h3>
<ul>
  <li>Utility becomes decreasing for large W</li>
  <li>u'(W) = a - bW &lt; 0 when W &gt; a/b</li>
  <li>Implies more wealth leads to less utility, which contradicts rational investor behavior</li>
</ul>

<h3>2. Increasing Absolute Risk Aversion (IARA)</h3>
<ul>
  <li>ARA: A(W) = -u''(W)/u'(W) = b / (a - bW)</li>
  <li>Since the denominator decreases with W, A(W) increases with wealth</li>
  <li>This contradicts the usual assumption that richer individuals are less risk-averse</li>
</ul>

<h2>❌ Counterintuitive Implications</h2>
<ul>
  <li>Richer individuals may avoid risk entirely</li>
  <li>Beyond a point, people may prefer losing wealth</li>
  <li>Risky assets could appear as inferior goods</li>
</ul>

<h2>📊 Visual: Quadratic Utility Function</h2>
<p>
u(W)<br>
│<br>
│        *<br>
│     *     *   ← Utility increases initially<br>
│   *         *<br>
│ *             *  ← Peaks at satiation point<br>
│<br>
└──────────────────→ W<br>
                 ↑<br>
            Max utility point
</p>

<h2>🔶 Section 3.5: Mean-Variance from Multivariate Normality</h2>

<h2>🧠 Key Idea</h2>
<p>Even with an arbitrary utility function, if returns are normally distributed, mean-variance analysis can still be valid.</p>

<h2>📌 Why?</h2>
<ul>
  <li>The normal distribution is fully determined by mean and variance</li>
  <li>Higher moments are functions of just μ and σ²</li>
  <li>Hence, the Taylor remainder term E[R₃] depends only on μ and σ²</li>
</ul>

<h2>🧮 Portfolio Implication</h2>
<p>If: Ṙ = (R₁, R₂, ..., Rₙ) ~ MVN(μ, Σ)</p>
<p>Then: Any linear combination Ẇ = wᵗṘ is also normally distributed</p>
<p>So utility maximization reduces to optimization over mean and variance</p>

<h2>✅ Advantages of Normality</h2>
<ul>
  <li><strong>Simplicity</strong>: Optimization is over μ and Σ</li>
  <li><strong>Stability</strong>: Sums of normals remain normal</li>
  <li><strong>Compatibility</strong>: Applies to many utility functions if E[u(Ẇ)] exists</li>
</ul>

<h2>⚠️ Problems with Normality Assumption</h2>

<h3>1. Unbounded Below</h3>
<ul>
  <li>Normal returns allow Ẇ &lt; 0 with positive probability</li>
  <li>For log utility u(z) = ln(z), ln(z) is undefined if z ≤ 0</li>
  <li>Negative wealth implies negative consumption, which is unrealistic</li>
</ul>

<h3>2. Violates Limited Liability</h3>
<ul>
  <li>In reality, wealth cannot fall below zero</li>
  <li>But normal models assume returns can go to negative infinity</li>
</ul>

<h2>📘 Lognormal Alternative?</h2>
<ul>
  <li>Lognormal returns (Ẇ = exp(Z), Z ~ N(μ, σ²)) ensure Ẇ &gt; 0</li>
  <li>But sums of lognormals are not lognormal</li>
  <li>This complicates portfolio construction</li>
</ul>

<h2>📌 Summary Table</h2>
<table border="1">
  <tr>
    <th>Assumption</th>
    <th>Utility Function</th>
    <th>Distributional Assumption</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Quadratic utility</td>
    <td>u(W) = aW - (b/2)W²</td>
    <td>Any distribution</td>
    <td>Mean-variance preference exact</td>
  </tr>
  <tr>
    <td>Arbitrary utility</td>
    <td>u smooth, concave</td>
    <td>Multivariate Normal returns</td>
    <td>Mean-variance preference sufficient</td>
  </tr>
  <tr>
    <td>Arbitrary utility</td>
    <td>Arbitrary</td>
    <td>Arbitrary distribution</td>
    <td>Mean-variance preference not valid</td>
  </tr>
</table>

<h2>🔁 Final Synthesis</h2>
<table border="1">
  <tr>
    <th>Strength</th>
    <th>Limitation</th>
  </tr>
  <tr>
    <td>Mean-variance models are powerful and tractable under quadratic utility or normality</td>
    <td>But both are strong and unrealistic assumptions</td>
  </tr>
  <tr>
    <td>Quadratic utility allows exact mean-variance optimization for any distribution</td>
    <td>But leads to absurd economic implications like decreasing utility with wealth</td>
  </tr>
  <tr>
    <td>Normality assumption avoids those issues</td>
    <td>But assumes wealth can fall below zero, which violates limited liability</td>
  </tr>
  <tr>
    <td>Use mean-variance as an approximation</td>
    <td>Advanced models incorporate higher moments or bounded wealth, or use expected utility directly</td>
  </tr>
</table>



  
  





















<p><strong>Last updated:</strong> August 04, 2025</p> 
</section>

<div class="nav-bottom">
  <a href="hl-ch1.html">Prev Chapter &larr;</a>
</div>

<footer>
  &copy; 2025 Mohammad Shaan | This site is maintained on GitHub Pages.
</footer>
<!-- MathJax for LaTeX -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
  function toggleHint(id) {
    var hint = document.getElementById(id);
    if (hint.style.display === "none" || hint.style.display === "") {
      hint.style.display = "block";
    } else {
      hint.style.display = "none";
    }
  }
</script>

</body>
</html>
